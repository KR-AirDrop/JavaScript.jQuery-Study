<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link href="../css/main.css" rel="stylesheet" />
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"
      integrity="sha256-eVNjHw5UeU0jUqPPpZHAkU1z4U+QFBBY488WvueTm88="
      crossorigin="anonymous"
    ></script>

    <title>JS practice</title>
  </head>
  <body>
    <div class="black-bg">
      <div class="white-bg">
        <h4>ë¡œê·¸ì¸í•˜ì„¸ìš”</h4>
        <form action="success.html">
          <div class="my-3">
            <input type="text" class="form-control" id="inputId" />
          </div>
          <div class="my-3">
            <input type="password" class="form-control" id="inputPw" />
          </div>
          <button type="submit" class="btn btn-primary" id="login">
            ë¡œê·¸ì¸
          </button>
          <button type="button" class="btn btn-danger" id="close">ë‹«ê¸°</button>
        </form>
      </div>
    </div>

    <nav class="navbar navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">Navbar</span>

        <button class="navbar-toggler" type="button">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="scrollBar"></div>

      <ul class="list-group">
        <li class="list-group-item">An item</li>
        <li class="list-group-item">A second item</li>
        <li class="list-group-item">A third item</li>
        <li class="list-group-item">A fourth item</li>
        <li class="list-group-item">And a fifth one</li>
      </ul>
    </nav>

    <span class="badge bg-dark" style="margin-top: 300px">Light ğŸ”„</span>

    <div class="lorem" style="width: 300px; height: 200px; overflow-y: scroll">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Non, doloremque
      ex laborum nam veritatis culpa ullam quis doloribus quibusdam ab fuga
      distinctio, corporis soluta quaerat magnam cupiditate dolore unde!
      Repellendus? Lorem, ipsum dolor sit amet consectetur adipisicing elit.
      Aspernatur unde quaerat molestias itaque dolor praesentium facilis
      adipisci dolores iste impedit beatae placeat mollitia, quia explicabo iure
      numquam delectus consequuntur! Placeat.
    </div>

    <script>
      $(window).on("scroll", function () {
        var nowScrollValue = window.scrollY;
        let scrollHeight =
          Math.max(
            document.body.scrollHeight,
            document.documentElement.scrollHeight,
            document.body.offsetHeight,
            document.documentElement.offsetHeight,
            document.body.clientHeight,
            document.documentElement.clientHeight
          ) - $(window).height();

        var ratio = 100 * (nowScrollValue / scrollHeight);
        $(".scrollBar").css("width", ratio + "%");

        if (nowScrollValue > 100) {
          $(".navbar-brand").css("font-size", "20px");
        } else {
          $(".navbar-brand").css("font-size", "40px");
        }
      });

      var check = 1;

      $(".lorem").on("scroll", function () {
        var scroll = document.querySelector(".lorem").scrollTop;
        var box = document.querySelector(".lorem").scrollHeight;
        var boxHeight = document.querySelector(".lorem").clientHeight;

        if ((scroll + boxHeight > box - 5) & check) {
          console.log(check);
          check--;
          alert("ë‹¤ì½ì—ˆë„¤ìš©~");
        }
      });

      window.addEventListener("scroll", function () {});

      var count = 0;

      $(".badge").on("click", function () {
        count++;
        if (count % 2 == 1) {
          $(".badge").html("Dark ğŸ”„");
          $("body").toggleClass("dark");
        } else {
          $(".badge").html("Light ğŸ”„");
          $("body").toggleClass("dark");
        }
      });
    </script>

    <p class="hello">Hello</p>
    <button id="del-hello">Del</button>

    <button id="test-btn">ë¡œê·¸ì¸</button>

    <div class="alert alert-danger">5ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆ ì¦ì •!</div>

    <div style="overflow: hidden; margin-top: 500px">
      <div class="slide-container">
        <div class="slide-box">
          <img src="../image/IU_15.jpeg" />
        </div>
        <div class="slide-box">
          <img src="../image/IU_16.jpeg" />
        </div>
        <div class="slide-box">
          <img src="../image/IU_17.jpeg" />
        </div>
      </div>
    </div>
    <button class="pre">ì´ì „</button>
    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="next">ë‹¤ìŒ</button>
    <script>
      var ì´ë¯¸ì§€1 = document.querySelectorAll(".slide-box img")[0];

      var ë§¤ë‹ˆì € = new Hammer.Manager(ì´ë¯¸ì§€1); // ì–´ë–¤ ìš”ì†Œì— í„°ì¹˜ê¸°ëŠ¥ ê°œë°œí• ê±´ì§€.
      ë§¤ë‹ˆì €.add(new Hammer.Pan({ threshold: 0 }));

      ë§¤ë‹ˆì €.on("pan", function (e) {
        console.log(e.deltaX);
        $(".slide-container").css("transform", `translateX(${e.deltaX}px)`);

        if (e.isFinal & (e.deltaX < -300)) {
          $(".slide-container").addClass("transforming");
          $(".slide-container").css("transform", "translateX(-100vw)");
          setTimeout(function () {
            $(".slide-container").removeClass("transforming");
          }, 500);
        } else if (e.isFinal) {
          $(".slide-container").addClass("transforming");
          $(".slide-container").css("transform", "translateX(0vw)");
          setTimeout(function () {
            $(".slide-container").removeClass("transforming");
          }, 500);
        }
      });

      // ê·¸ëƒ¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ë²• ë³´ë©´ ì–´ë–»ê²Œ ì“°ëŠ”ì§€ ë‚˜ì˜¨ë‹¤.
      // Pan ìŠ¬ë¼ì´ë“œ, rotate ëŒë¦¬ëŠ”ê±°, pinch ê¼¬ì§‘ëŠ”ê±°
    </script>

    <div style="height: 2000px"></div>
    <script>
      var nowSlide = 1;

      $(".pre").on("click", function () {
        if (nowSlide == 1) {
          $(".slide-container").css("transform", "translateX(-200vw)");
          nowSlide = 3;
        } else if (nowSlide == 2) {
          $(".slide-container").css("transform", "translateX(0vw)");
          nowSlide = 1;
        } else if (nowSlide == 3) {
          $(".slide-container").css("transform", "translateX(-100vw)");
          nowSlide = 2;
        }
      });

      $(".next").on("click", function () {
        if (nowSlide == 1) {
          $(".slide-container").css("transform", "translateX(-100vw)");
          nowSlide = 2;
        } else if (nowSlide == 2) {
          $(".slide-container").css("transform", "translateX(-200vw)");
          nowSlide = 3;
        } else if (nowSlide == 3) {
          $(".slide-container").css("transform", "translateX(0vw)");
          nowSlide = 1;
        }
      });

      $(".slide-1").on("click", function () {
        $(".slide-container").css("transform", "translateX(0vw)");
        nowSlide = 1;
      });

      $(".slide-2").on("click", function () {
        $(".slide-container").css("transform", "translateX(-100vw)");
        nowSlide = 2;
      });

      $(".slide-3").on("click", function () {
        $(".slide-container").css("transform", "translateX(-200vw)");
        nowSlide = 3;
      });

      var countDown = 5;
      setInterval(function () {
        if (countDown != 0) {
          countDown--;
          $(".alert").html(countDown + "ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆ ì¦ì •!");
        } else {
          $(".alert").fadeOut();
        }
      }, 1000);

      function ì‚¼ìœ¡êµ¬(num) {
        if (num % 9 == 0) {
          console.log("ë°•ìˆ˜");
          console.log("ë°•ìˆ˜");
        } else if (num % 3 == 0) {
          console.log("ë°•ìˆ˜");
        } else {
          console.log("í†µê³¼");
        }
      }

      $("#login").on("click", function (e) {
        if (!$("#inputId").val()) {
          alert("ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
          e.preventDefault();
        } else if (!/\S+@\S+\.\S+/.test($("#inputId").val())) {
          alert("ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.");
          e.preventDefault();
        } else if (!$("#inputPw").val()) {
          alert("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
          e.preventDefault();
        } else if (
          $("#inputPw").val().length < 8 ||
          !/[A-Z]/.test($("#inputPw").val())
        ) {
          alert(
            "ë¹„ë°€ë²ˆí˜¸ëŠ” 8ìë¦¬ ì´ìƒì´ê³  ìµœì†Œ 1ê°œì˜ ëŒ€ë¬¸ìë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤."
          );
          e.preventDefault();
        }
      });

      $("#test-btn").on("click", function () {
        $(".black-bg").toggleClass("show");
      });

      $("#close").on("click", function () {
        $(".black-bg").toggleClass("show");
      });

      $(".hello").css("color", "red");

      $("#del-hello").on("click", function () {
        $(".hello").slideUp();
      });

      $(".black-bg").on("click", function (e) {
        // ì´ë²¤íŠ¸ ê´€ë ¨ í•¨ìˆ˜ë“¤
        // e.target;            ìœ ì €ê°€ ì‹¤ì œë¡œ ëˆ„ë¥¸ ê²ƒ
        // e.currentTarget;     ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë‹¬ë¦° ê³³
        // e.preventDefault();  ì´ë²¤íŠ¸ ê¸°ë³¸ ë™ì‘ ë§‰ì•„ì¤Œ (ë¡œê·¸ì¸ ì•ˆë„˜ì–´ê°€ê²Œ í• ë•Œ ì¼ìŒ)
        // e.stopPropagation(); ìƒìœ„ ìš”ì†Œë¡œ ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë§‰ì•„ì¤Œ

        if (e.target == document.querySelector(".black-bg")) {
          // jQueryë¡œ ë¹„êµí•  ë• ì•½ê°„ì˜ ì²˜ë¦¬ê°€ í•„ìš”
          $(".black-bg").removeClass("show");
        }
      });

      document
        .querySelector(".navbar-toggler")
        .addEventListener("click", function () {
          document.querySelector(".list-group").classList.toggle("list-show");
        });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
